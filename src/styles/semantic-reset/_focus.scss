:root {
  --focus--parent--bg-color: var(--theme--background-color);
  --focus--color: var(--theme--focus-color);
  --focus--width: 2px;
  --focus--offset-from: 10px;
  --focus--offset-to: 2px;

  --focus--transition: outline 450ms ease-out, outline-offset 350ms ease-out;
}

:where(a, area, button, input, label:has(input), select, summary, textarea, [tabindex]) {
  color: inherit;
  background-color: transparent;

  outline: var(--focus--width) dashed transparent;
  outline-offset: var(--focus--offset-from);
  transition: var(--focus--transition);

  &:focus {
    outline: var(--focus--width) solid var(--focus--color);
    outline-offset: var(--focus--offset-to);
  }
}

[tabindex='-1']:focus:not(:focus-visible) {
  outline: 0;
}

@include detect(firefox) {
  * {
    &::-moz-focus-inner,
    &::-moz-focus-outer {
      border: 0;
    }
  }
}
